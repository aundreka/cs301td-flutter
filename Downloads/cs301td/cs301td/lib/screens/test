import 'package:flutter/material.dart';

/// ===========================================
/// ENUMS
/// ===========================================
enum TowerRarity { common, rare, epic }
enum TowerClass { dps, tank, support, control, hybrid }

/// ===========================================
/// COLOR HELPERS
/// ===========================================
Color rarityColor(TowerRarity rarity) {
  switch (rarity) {
    case TowerRarity.common:
      return const Color(0xFF7F8C8D); // gray
    case TowerRarity.rare:
      return const Color(0xFF3498DB); // blue
    case TowerRarity.epic:
      return const Color(0xFFE67E22); // orange-gold
  }
}

/// ===========================================
/// ABILITY MODEL
/// ===========================================
class TowerAbility {
  final String id;
  final String name;
  final String description;

  /// Generic numeric “power” used by UI (e.g., +damage %, slow %, etc.)
  final double baseValue;
  final double perEvolution;

  const TowerAbility({
    required this.id,
    required this.name,
    required this.description,
    required this.baseValue,
    required this.perEvolution,
  });

  double valueAtLevel(int evolutionLevel) {
    final lvl = evolutionLevel.clamp(1, 3);
    return baseValue + perEvolution * (lvl - 1);
  }
}

/// ===========================================
/// TOWER TYPE MODEL
/// ===========================================
class TowerType {
  final String id;
  final String name;
  final String description;

  final int cost;
  final double baseDamage;
  final double baseFireRate; // seconds between shots
  final TowerRarity rarity;
  final TowerClass towerClass;
  final double maxHp;
  final double range;

  /// Sprite for the classmate
  final String portrait;

  /// Sprite for the weapon/projectile
  final String weaponPath;

  /// Base visual scale for the weapon (upgrade screen can multiply this)
  final double weaponScale;

  /// Skills (1 for common, 2 rare, 3 epic)
  final List<TowerAbility> abilities;

  /// Evolution (1–3). This is mutated at runtime.
  int evolutionLevel;
  final int maxEvolution;

  TowerType({
    required this.id,
    required this.name,
    required this.description,
    required this.cost,
    required this.baseDamage,
    required this.baseFireRate,
    required this.rarity,
    required this.towerClass,
    required this.maxHp,
    required this.range,
    required this.portrait,
    required this.weaponPath,
    this.weaponScale = 1.0,
    required this.abilities,
    this.evolutionLevel = 1,
    this.maxEvolution = 3,
  });
}

/// ===========================================
/// FULL TOWER LIST (ALL CLASSMATES)
/// ===========================================
List<TowerType> buildTowerTypes() {
  const basePortrait = 'assets/game/classmates/sample.png';

  return [
    // ==========================
    // GIRLS
    // ==========================

    TowerType(
      id: 'abante',
      name: 'Abante, Marjinel',
      description: 'Fierce & energetic rapid-fire DPS. Glass cannon.',
      cost: 100,
      baseDamage: 18,
      baseFireRate: 0.7,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 90,
      range: 480,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/dual_pistols.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'abante_burst',
          name: '“HoOoYy!!” Burst',
          description: 'Every few shots deals bonus damage in a small splash.',
          baseValue: 0.15, // +15% burst dmg
          perEvolution: 0.05,
        ),
        TowerAbility(
          id: 'abante_hype',
          name: 'Hyper Spam',
          description: 'Attack speed increases slightly each time she hits.',
          baseValue: 0.08, // +8% max bonus
          perEvolution: 0.04,
        ),
      ],
    ),

    TowerType(
      id: 'chan',
      name: 'Chan, Rebekah',
      description: 'Creative balanced caster. Reliable single-target.',
      cost: 110,
      baseDamage: 20,
      baseFireRate: 1.0,
      rarity: TowerRarity.common,
      towerClass: TowerClass.hybrid,
      maxHp: 110,
      range: 460,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/ink_pen.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'chan_story',
          name: 'Storyboard Focus',
          description: 'Slightly increases range and accuracy.',
          baseValue: 0.10, // +10% range
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'domingo',
      name: 'Domingo, Vashti',
      description: 'Organized planner. Precise lane control tower.',
      cost: 115,
      baseDamage: 22,
      baseFireRate: 1.1,
      rarity: TowerRarity.common,
      towerClass: TowerClass.control,
      maxHp: 100,
      range: 500,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/notebook_laser.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'domingo_clip',
          name: 'Pinned Notes',
          description:
              'Occasionally tags an enemy, making it take extra damage from all sources.',
          baseValue: 0.12,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'clarinze',
      name: 'Perez, Clarinze',
      description: 'Competitive prodigy. High DPS crit-style tower.',
      cost: 140,
      baseDamage: 30,
      baseFireRate: 1.3,
      rarity: TowerRarity.epic,
      towerClass: TowerClass.dps,
      maxHp: 100,
      range: 500,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/axe.png', // ✅ your axe
      weaponScale: 1.2,
      abilities: [
        TowerAbility(
          id: 'clarinze_crit',
          name: 'Finals Clutch',
          description: 'Has a chance to deal massive critical damage.',
          baseValue: 0.18, // 18% crit bonus
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'clarinze_comp',
          name: '“Kaya ko ’to.” Mode',
          description: 'Damage increases slightly each time she kills an enemy.',
          baseValue: 0.06,
          perEvolution: 0.04,
        ),
        TowerAbility(
          id: 'clarinze_range',
          name: 'Top of the Class',
          description: 'Gains bonus range at higher evolution levels.',
          baseValue: 0.12,
          perEvolution: 0.04,
        ),
      ],
    ),

    TowerType(
      id: 'peruda',
      name: 'Peruda, Zenia',
      description: 'Observant slow/control tower. Great mid-lane control.',
      cost: 130,
      baseDamage: 18,
      baseFireRate: 0.9,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.control,
      maxHp: 110,
      range: 470,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/stopwatch.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'peruda_slow',
          name: 'Hallway Watch',
          description: 'Basic attacks slow enemies for a short time.',
          baseValue: 0.20, // 20% slow
          perEvolution: 0.05,
        ),
        TowerAbility(
          id: 'peruda_spot',
          name: 'Observant Eyes',
          description: 'Increases slow duration slightly per evolution.',
          baseValue: 1.0, // duration scalar
          perEvolution: 0.2,
        ),
      ],
    ),

    TowerType(
      id: 'puro',
      name: 'Puro, Cheilou',
      description: 'Calm calculator. Reliable support/control hybrid.',
      cost: 125,
      baseDamage: 19,
      baseFireRate: 1.2,
      rarity: TowerRarity.common,
      towerClass: TowerClass.support,
      maxHp: 130,
      range: 450,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/calculator.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'puro_calc',
          name: 'Sige, Try Natin',
          description:
              'Slightly buffs nearby towers’ attack speed in a small radius.',
          baseValue: 0.08,
          perEvolution: 0.04,
        ),
      ],
    ),

    TowerType(
      id: 'yahiya',
      name: 'Yahiya, Merhaya',
      description: 'Fangirl shock tower. Short-range control damage.',
      cost: 150,
      baseDamage: 24,
      baseFireRate: 1.0,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.control,
      maxHp: 105,
      range: 460,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/mic_shock.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'yahiya_fangirl',
          name: 'Fangirl Squeal',
          description: 'Occasionally stuns nearby enemies with a squeal.',
          baseValue: 0.16, // 16% stun chance
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'yahiya_chain',
          name: 'Shockwave Echo',
          description: 'Short chain lightning to nearby enemies.',
          baseValue: 0.10,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'mapanao',
      name: 'Mapanao, Issa',
      description: 'Leader aura-type support. Buff-focused hybrid.',
      cost: 160,
      baseDamage: 20,
      baseFireRate: 1.0,
      rarity: TowerRarity.epic,
      towerClass: TowerClass.support,
      maxHp: 130,
      range: 440,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/megaphone.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'issa_leader',
          name: 'Guys, Announcement!',
          description: 'Aura that boosts nearby towers’ damage.',
          baseValue: 0.15,
          perEvolution: 0.05,
        ),
        TowerAbility(
          id: 'issa_energy',
          name: 'Energetic Call',
          description: 'Also slightly boosts attack speed.',
          baseValue: 0.08,
          perEvolution: 0.04,
        ),
        TowerAbility(
          id: 'issa_focus',
          name: 'Witty Gameplan',
          description: 'Aura radius increases per evolution.',
          baseValue: 1.0,
          perEvolution: 0.25,
        ),
      ],
    ),

    // ==========================
    // BOYS
    // ==========================

    TowerType(
      id: 'acabo',
      name: 'Acabo, Ian',
      description: 'Burst DPS. “Pasabi” style multi-shot damage.',
      cost: 150,
      baseDamage: 28,
      baseFireRate: 1.0,
      rarity: TowerRarity.epic,
      towerClass: TowerClass.dps,
      maxHp: 95,
      range: 470,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/umbrella_cannon.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'acabo_multishot',
          name: '“Sirrr!” Multishot',
          description: 'Occasionally fires extra projectiles at nearby enemies.',
          baseValue: 0.20,
          perEvolution: 0.07,
        ),
        TowerAbility(
          id: 'acabo_haste',
          name: 'Pasabi Malalate',
          description: 'Short burst of faster fire rate after each kill.',
          baseValue: 0.10,
          perEvolution: 0.05,
        ),
        TowerAbility(
          id: 'acabo_focus',
          name: 'Curious Focus',
          description: 'Slight crit damage bonus.',
          baseValue: 0.15,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'arias',
      name: 'Arias, Lhanz',
      description: 'Tall sniper. Very long-range lane cleaner.',
      cost: 135,
      baseDamage: 22,
      baseFireRate: 0.8,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 100,
      range: 540,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/sniper_rifle.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'arias_snipe',
          name: 'Soft-Smile Snipe',
          description: 'Deals bonus damage to the farthest enemy in range.',
          baseValue: 0.18,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'arias_focus',
          name: 'Long Stride Aim',
          description: 'Small pierce effect on bullets.',
          baseValue: 0.1,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'baquirin',
      name: 'Baquirin, Jared',
      description: 'Brave small tank. Soaks hits, steady DPS.',
      cost: 120,
      baseDamage: 18,
      baseFireRate: 1.4,
      rarity: TowerRarity.common,
      towerClass: TowerClass.tank,
      maxHp: 170,
      range: 420,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/shield.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'jared_guard',
          name: 'Blue Shirt Guard',
          description: 'Adds bonus HP and tiny damage reflection.',
          baseValue: 0.18,
          perEvolution: 0.06,
        ),
      ],
    ),

    TowerType(
      id: 'borromeo',
      name: 'Borromeo, Frank',
      description: 'Secretive crit DPS. High burst potential.',
      cost: 170,
      baseDamage: 32,
      baseFireRate: 1.2,
      rarity: TowerRarity.epic,
      towerClass: TowerClass.dps,
      maxHp: 95,
      range: 480,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/hoodie_blade.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'frank_shadows',
          name: 'Quiet Shadows',
          description: 'High crit chance against isolated enemies.',
          baseValue: 0.22,
          perEvolution: 0.08,
        ),
        TowerAbility(
          id: 'frank_backstab',
          name: 'Sling Backstab',
          description: 'Bonus damage on already-damaged enemies.',
          baseValue: 0.16,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'frank_slip',
          name: 'Soft-Spoken Focus',
          description: 'Slightly faster fire rate each evolution.',
          baseValue: 0.06,
          perEvolution: 0.04,
        ),
      ],
    ),

    TowerType(
      id: 'casibua',
      name: 'Casibua, Joevin',
      description: 'Support buffer. Boosts nearby damage.',
      cost: 140,
      baseDamage: 16,
      baseFireRate: 1.4,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.support,
      maxHp: 140,
      range: 430,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/cheer_flag.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'joevin_boost',
          name: 'Big Voice Boost',
          description: 'Aura that increases damage of nearby towers.',
          baseValue: 0.14,
          perEvolution: 0.05,
        ),
        TowerAbility(
          id: 'joevin_cheer',
          name: 'Supportive Cheers',
          description: 'Slow HP regen to towers in his aura.',
          baseValue: 0.04,
          perEvolution: 0.02,
        ),
      ],
    ),

    TowerType(
      id: 'cawaling',
      name: 'Cawaling, Josh',
      description: 'Techy fast shooter. High attack speed.',
      cost: 130,
      baseDamage: 19,
      baseFireRate: 0.7,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 100,
      range: 470,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/laptop_turret.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'josh_code',
          name: 'Code Burst',
          description: 'Random rapid-fire bursts on one enemy.',
          baseValue: 0.16,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'josh_buffer',
          name: 'Earphone Focus',
          description: 'Slight attack speed bonus per evolution.',
          baseValue: 0.08,
          perEvolution: 0.04,
        ),
      ],
    ),

    TowerType(
      id: 'gealone',
      name: 'Gealone, Shan',
      description: 'Chill slow tower. Strong slows/control.',
      cost: 100,
      baseDamage: 12,
      baseFireRate: 1.6,
      rarity: TowerRarity.common,
      towerClass: TowerClass.control,
      maxHp: 120,
      range: 450,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/pillow_cloud.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'shan_chill',
          name: 'Low-Energy Aura',
          description: 'Strong slow effect in a small zone.',
          baseValue: 0.24,
          perEvolution: 0.06,
        ),
      ],
    ),

    TowerType(
      id: 'lavandero',
      name: 'Lavandero, Jhon',
      description: 'Strategic hybrid. Balanced stats.',
      cost: 125,
      baseDamage: 20,
      baseFireRate: 1.1,
      rarity: TowerRarity.common,
      towerClass: TowerClass.hybrid,
      maxHp: 115,
      range: 460,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/strat_board.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'lavandero_plan',
          name: 'Crossed-Arms Plan',
          description: 'Slight global bonus to his own damage and range.',
          baseValue: 0.10,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'laudit',
      name: 'Laudit, Dan Renzo',
      description: 'Flash photographer. Control + utility.',
      cost: 145,
      baseDamage: 17,
      baseFireRate: 1.0,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.control,
      maxHp: 115,
      range: 440,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/camera_flash.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'laudit_flash',
          name: 'Flashbang Photo',
          description: 'Occasional AoE slow + tiny stun.',
          baseValue: 0.18,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'laudit_focus',
          name: 'Photographer’s Focus',
          description: 'Slight crit chance vs stunned enemies.',
          baseValue: 0.14,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'malong',
      name: 'Malong, Reinier',
      description: 'Sleepy explosive DPS. Random big hits.',
      cost: 150,
      baseDamage: 25,
      baseFireRate: 1.3,
      rarity: TowerRarity.epic,
      towerClass: TowerClass.dps,
      maxHp: 100,
      range: 460,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/bomb_pillow.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'malong_doze',
          name: 'Sleepy Charge',
          description: 'Chance to fire a huge explosive shot.',
          baseValue: 0.20,
          perEvolution: 0.07,
        ),
        TowerAbility(
          id: 'malong_yawn',
          name: 'Yawn Shockwave',
          description: 'Occasional small slow around target.',
          baseValue: 0.14,
          perEvolution: 0.05,
        ),
        TowerAbility(
          id: 'malong_lazy',
          name: 'Half-Awake Mode',
          description: 'Damage increases slightly per evolution.',
          baseValue: 0.10,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'manilla',
      name: 'Manilla, Ben',
      description: 'Muscle tank. Splash damage/tank hybrid.',
      cost: 180,
      baseDamage: 40,
      baseFireRate: 1.5,
      rarity: TowerRarity.epic,
      towerClass: TowerClass.tank,
      maxHp: 190,
      range: 410,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/gauntlet.png',
      weaponScale: 1.2,
      abilities: [
        TowerAbility(
          id: 'ben_splash',
          name: 'Muscle Slam',
          description: 'Heavy splash damage around impact.',
          baseValue: 0.22,
          perEvolution: 0.08,
        ),
        TowerAbility(
          id: 'ben_block',
          name: 'Athletic Guard',
          description: 'Chance to block part of incoming damage.',
          baseValue: 0.18,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'ben_roar',
          name: '“May lima ka?” Roar',
          description: 'Short taunt that briefly focuses enemies on him.',
          baseValue: 1.0,
          perEvolution: 0.3,
        ),
      ],
    ),

    TowerType(
      id: 'manjares',
      name: 'Manjares, Cedrick',
      description: 'Geek DPS. Bonus vs minibosses.',
      cost: 160,
      baseDamage: 26,
      baseFireRate: 1.1,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 105,
      range: 460,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/anime_staff.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'cedrick_boss',
          name: 'Where’s the Bear?',
          description: 'Deals extra damage to miniboss enemies.',
          baseValue: 0.25,
          perEvolution: 0.08,
        ),
        TowerAbility(
          id: 'cedrick_otaku',
          name: 'Fanboy Focus',
          description: 'Slightly higher damage the longer he stays in one spot.',
          baseValue: 0.10,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'paculanan',
      name: 'Paculanan, Louise',
      description: 'Gamer APM tower. Very high fire rate.',
      cost: 150,
      baseDamage: 16,
      baseFireRate: 0.5,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 100,
      range: 470,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/controller_gun.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'louise_combo',
          name: 'GG Combo',
          description: 'Stacks attack speed while continuously firing.',
          baseValue: 0.16,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'louise_reset',
          name: 'Next Game',
          description: 'Resets cooldown on kill sometimes.',
          baseValue: 0.12,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'paras',
      name: 'Paras, Kurt Lance',
      description: 'Smart armor-piercing DPS.',
      cost: 155,
      baseDamage: 22,
      baseFireRate: 0.9,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 105,
      range: 480,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/railgun_notes.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'paras_pierce',
          name: 'Focused Notes',
          description: 'High armor-piercing shots vs tough enemies.',
          baseValue: 0.22,
          perEvolution: 0.08,
        ),
        TowerAbility(
          id: 'paras_calc',
          name: 'Quiet Strategy',
          description: 'Slightly improved fire rate per evolution.',
          baseValue: 0.08,
          perEvolution: 0.04,
        ),
      ],
    ),

    TowerType(
      id: 'porcopio',
      name: 'Porcopio, Jel Cyruz',
      description: 'Bouncy projectile hybrid DPS.',
      cost: 150,
      baseDamage: 20,
      baseFireRate: 1.0,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.hybrid,
      maxHp: 110,
      range: 470,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/bouncy_orb.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'jel_quip',
          name: 'Punchline Shot',
          description: 'Projectiles can bounce to another enemy.',
          baseValue: 0.18,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'jel_sass',
          name: 'Animated Eyebrows',
          description: 'Small chance for double damage on bounce.',
          baseValue: 0.12,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'riman',
      name: 'Riman, Tyron',
      description: 'Music-based AOE/control caster.',
      cost: 170,
      baseDamage: 30,
      baseFireRate: 1.4,
      rarity: TowerRarity.epic,
      towerClass: TowerClass.control,
      maxHp: 115,
      range: 450,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/headphone_wave.png',
      weaponScale: 1.1,
      abilities: [
        TowerAbility(
          id: 'tyron_beats',
          name: 'Bass Drop',
          description: 'Big AoE damage pulse every few seconds.',
          baseValue: 0.22,
          perEvolution: 0.08,
        ),
        TowerAbility(
          id: 'tyron_rhythm',
          name: 'Rhythm Slow',
          description: 'Enemies caught in the beat are heavily slowed.',
          baseValue: 0.24,
          perEvolution: 0.06,
        ),
        TowerAbility(
          id: 'tyron_vibe',
          name: 'Quiet Vibes',
          description: 'Minor damage reduction aura for nearby towers.',
          baseValue: 0.10,
          perEvolution: 0.04,
        ),
      ],
    ),

    TowerType(
      id: 'rivero',
      name: 'Rivero, Dan Justin',
      description: 'Sarcastic high-crit DPS.',
      cost: 160,
      baseDamage: 28,
      baseFireRate: 1.3,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 105,
      range: 470,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/smirk_blade.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'rivero_sarcasm',
          name: 'Sarcastic Jab',
          description: 'High crit chance vs full-HP enemies.',
          baseValue: 0.20,
          perEvolution: 0.07,
        ),
        TowerAbility(
          id: 'rivero_provoke',
          name: 'Provocative Taunt',
          description: 'Light armor shred on hit.',
          baseValue: 0.14,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'tagab',
      name: 'Tagab, Mark',
      description: 'Hyper fast shooter. Insane fire rate.',
      cost: 145,
      baseDamage: 14,
      baseFireRate: 0.4,
      rarity: TowerRarity.rare,
      towerClass: TowerClass.dps,
      maxHp: 95,
      range: 470,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/nerf_storm.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'tagab_hyper',
          name: 'Bouncy Walk',
          description: 'Huge attack speed potential over time.',
          baseValue: 0.18,
          perEvolution: 0.07,
        ),
        TowerAbility(
          id: 'tagab_noise',
          name: 'Noisy Energy',
          description: 'Slight chance to fire bonus shots.',
          baseValue: 0.12,
          perEvolution: 0.05,
        ),
      ],
    ),

    TowerType(
      id: 'trinidad',
      name: 'Trinidad, Jassim',
      description: 'Chaotic hybrid. Random-feeling stats.',
      cost: 150,
      baseDamage: 22,
      baseFireRate: 1.0,
      rarity: TowerRarity.common,
      towerClass: TowerClass.hybrid,
      maxHp: 110,
      range: 460,
      portrait: basePortrait,
      weaponPath: 'assets/game/weapons/cap_spinner.png',
      weaponScale: 1.0,
      abilities: [
        TowerAbility(
          id: 'jassim_rng',
          name: 'Mischief RNG',
          description: 'Random small bonus to either damage or speed each wave.',
          baseValue: 0.16,
          perEvolution: 0.06,
        ),
      ],
    ),
  ];
}
